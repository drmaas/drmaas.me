---
import type { Page } from "astro";
import type { CollectionEntry } from "astro:content";

export interface Props {
  page: Page<CollectionEntry<"posts">>;
  dir: string;
}

const { page, dir } = Astro.props as Props;
const baseSite = import.meta.env.BASE_URL;

// Generate array of page numbers from 1 to lastPage
const pageNumbers = Array.from({ length: page.lastPage }, (_, i) => i + 1);
---

<div class="btn-group justify-center mt-12">
  {pageNumbers.map((pageNum) => (
    pageNum === page.currentPage ? (
      <a href={baseSite + page.url.current.slice(1)} class="btn btn-active btn-disabled">{pageNum}</a>
    ) : (
      <a href={pageNum === 1 ? `${baseSite}${dir}/` : `${baseSite}${dir}/${pageNum}/`} class="btn">{pageNum}</a>
    )
  ))}
</div>